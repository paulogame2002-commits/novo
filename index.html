<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RALD PLAYER ELITE</title>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        .video-js { width: 100vw; height: 100vh; }
    </style>
</head>
<body>

    <video id="my-video" class="video-js vjs-big-play-centered" controls preload="auto" data-setup='{}'>
        <p class="vjs-no-js">Para visualizar este vídeo, habilite o JavaScript.</p>
    </video>

    <script src="https://vjs.zencdn.net/7.20.3/video.js"></script>
    <script>
        // Função para traduzir o link escondido (Token)
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        const token = getUrlParameter('token');

        if (token) {
            try {
                // Decodifica o link original (Base64)
                const streamUrl = atob(token);
                var player = videojs('my-video');
                player.src({
                    src: streamUrl,
                    type: 'application/x-mpegURL'
                });
                player.play();
            } catch (e) {
                alert("Erro ao carregar canal. Tente novamente pelo Bot.");
            }
        } else {
            document.body.innerHTML = "<h1 style='color:white; text-align:center; margin-top:20%; font-family:sans-serif;'>Aguardando sinal do Bot...</h1>";
        }
    </script>
</body>
</html>
